<!DOCTYPE html>
<html>
<head>
  <title>Partnerių užklausos</title>
  <style>
    .request-card { border: 1px solid #ccc; padding: 15px; margin: 10px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
    th { background-color: #f2f2f2; }
  </style>
</head>
<body>
  <table id="partner-requests">
    <thead>
      <tr>
        <th>Įmonė</th>
        <th>Svetainė</th>
        <th>El. paštas</th>
        <th>Užklausos data</th>
        <th>Veiksmai</th>
      </tr>
    </thead>
    <tbody>
      <!-- Čia bus užkraunamos užklausos -->
    </tbody>
  </table>

  <script>
    // Užkrauname laukiančius partnerius
    async function loadPendingPartners() {
      const response = await fetch('/api/admin/pending-partners');
      const partners = await response.json();

      partners.forEach(partner => {
        const row = `
          <tr>
            <td>${partner.company}</td>
            <td><a href="${partner.website}" target="_blank">${partner.website}</a></td>
            <td>${partner.email}</td>
            <td>${new Date(partner.createdAt).toLocaleDateString()}</td>
            <td>
              <button onclick="approvePartner('${partner._id}')">Patvirtinti</button>
              <button onclick="rejectPartner('${partner._id}')">Atmesti</button>
            </td>
          </tr>
        `;
        document.querySelector('#partner-requests tbody').innerHTML += row;
      });
    }

    loadPendingPartners();

    function approvePartner(id) {
      // Čia bus patvirtinimo logika
      console.log('Patvirtinti partnerį su ID:', id);
    }

    function rejectPartner(id) {
      // Čia bus atmetimo logika
      console.log('Atmesti partnerį su ID:', id);
    }
  </script>
</body>
</html>
