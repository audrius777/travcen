<!DOCTYPE html>
<html lang="en">
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-KKDRG05LKT"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-KKDRG05LKT', {
      'page_title': 'TravCen Admin',
      'page_path': '/admin'
    });
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TravCen - Admin Panel</title>
  <style>
    /* Pagrindiniai stiliai */
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f7fa;
    }
    
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 30px;
      background-color: #ffffff;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .admin-dashboard {
      max-width: 1200px;
      margin: 30px auto;
      padding: 0 20px;
    }
    
    /* Modalų stiliai */
    .modal {
      display: none;
      position: fixed;
      z-index: 100;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
    }
    
    .modal-content {
      background-color: #fff;
      margin: 10% auto;
      padding: 25px;
      width: 50%;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    }
    
    .close {
      float: right;
      font-size: 24px;
      cursor: pointer;
    }
    
    /* Kortelių stiliai */
    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }
    
    .card {
      background: #fff;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <!-- 1. Viršutinė juosta -->
  <div class="top-bar">
    <div class="language-selector">
      <select id="language-selector">
        <option value="en">English</option>
        <option value="lt">Lietuvių</option>
      </select>
    </div>
    <div class="auth-buttons">
      <button id="login-google">
        <img src="https://img.icons8.com/color/20/000000/google-logo.png" alt="Google"/>
        <span class="auth-btn-text">Sign in</span>
      </button>
    </div>
  </div>

  <!-- 2. Administravimo skydas -->
  <div class="admin-dashboard">
    <header>
      <h1 id="site-title">TravCen Admin</h1>
      <p id="welcome-text">Manage travel offers</p>
    </header>

    <!-- 3. Valdymo elementai -->
    <div class="admin-controls">
      <button id="add-offer">+ Add Offer</button>
      <button id="refresh-data">⟳ Refresh</button>
      <button id="export-data">↓ Export CSV</button>
    </div>

    <!-- 4. Paieškos sistema -->
    <div class="search-section">
      <input type="text" id="departure" placeholder="Departure">
      <input type="text" id="destination" placeholder="Destination">
      <select id="trip-type">
        <option value="">All Types</option>
        <option value="leisure">Leisure</option>
        <option value="adventure">Adventure</option>
      </select>
      <button id="search-btn">Search</button>
    </div>

    <!-- 5. Rezultatų lentelė -->
    <div class="results-grid" id="card-list">
      <div class="card" data-departure="Vilnius" data-destination="Barcelona" data-type="leisure" data-price="199">
        <img src="https://source.unsplash.com/280x180/?barcelona" alt="Barcelona" style="width:100%">
        <div style="padding:15px">
          <h3>Barcelona from Vilnius</h3>
          <p>Price: €199</p>
          <div class="admin-actions">
            <button class="edit-btn">Edit</button>
            <button class="delete-btn">Delete</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 6. Statistika -->
    <div class="stats-panel">
      <div class="stat-card">
        <h4>Total Offers</h4>
        <p id="total-offers">1</p>
      </div>
      <div class="stat-card">
        <h4>Active Partners</h4>
        <p id="active-partners">3</p>
      </div>
    </div>
  </div>

  <!-- 7. Partnerio registracijos modalas -->
  <div id="partner-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Partner Registration</h2>
      <form id="partner-form">
        <input type="text" id="company-name" placeholder="Company Name" required>
        <input type="url" id="website-url" placeholder="Website URL" required>
        <input type="email" id="contact-email" placeholder="Contact Email" required>
        <textarea id="description" placeholder="Description" rows="4" required></textarea>
        <button type="submit">Submit</button>
      </form>
    </div>
  </div>

  <!-- 8. Kelionės pasiūlymo redagavimo modalas -->
  <div id="offer-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Edit Travel Offer</h2>
      <form id="offer-form">
        <input type="text" id="edit-departure" placeholder="Departure" required>
        <input type="text" id="edit-destination" placeholder="Destination" required>
        <select id="edit-type" required>
          <option value="leisure">Leisure</option>
          <option value="adventure">Adventure</option>
          <option value="cultural">Cultural</option>
        </select>
        <input type="number" id="edit-price" placeholder="Price" required>
        <input type="url" id="edit-image" placeholder="Image URL">
        <button type="submit">Save Changes</button>
      </form>
    </div>
  </div>

  <script>
    // Vertimų sistema
    const translations = {
      en: {
        "site-title": "TravCen Admin",
        "welcome-text": "Manage travel offers",
        "add-offer": "Add Offer",
        "search-btn": "Search",
        "departure": "Departure",
        "destination": "Destination"
      },
      lt: {
        "site-title": "TravCen Administratorius",
        "welcome-text": "Tvarkyti kelionių pasiūlymus",
        "add-offer": "Pridėti pasiūlymą",
        "search-btn": "Ieškoti",
        "departure": "Išvykimo vieta",
        "destination": "Kelionės tikslas"
      }
    };

    function setLanguage(lang) {
      if (!translations[lang]) return;
      
      document.querySelectorAll('[data-translate]').forEach(el => {
        const key = el.getAttribute('data-translate');
        if (translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });
      
      localStorage.setItem('selectedLanguage', lang);
      document.documentElement.lang = lang;
    }

    // Modalų valdymas
    function setupModals() {
      const partnerModal = document.getElementById('partner-modal');
      const offerModal = document.getElementById('offer-modal');
      
      // Atidarymas
      document.getElementById('add-offer').addEventListener('click', () => {
        offerModal.style.display = 'block';
      });
      
      document.querySelectorAll('.edit-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const card = this.closest('.card');
          document.getElementById('edit-departure').value = card.dataset.departure;
          document.getElementById('edit-destination').value = card.dataset.destination;
          document.getElementById('edit-type').value = card.dataset.type;
          document.getElementById('edit-price').value = card.dataset.price;
          offerModal.style.display = 'block';
        });
      });

      // Uždarymas
      document.querySelectorAll('.modal .close').forEach(btn => {
        btn.addEventListener('click', function() {
          this.closest('.modal').style.display = 'none';
        });
      });

      // Formų pateikimas
      document.getElementById('partner-form').addEventListener('submit', function(e) {
        e.preventDefault();
        alert('Partner registration submitted!');
        partnerModal.style.display = 'none';
      });
      
      document.getElementById('offer-form').addEventListener('submit', function(e) {
        e.preventDefault();
        alert('Offer updated!');
        offerModal.style.display = 'none';
      });
    }

    // Inicializacija
    document.addEventListener('DOMContentLoaded', () => {
      // Nustatome kalbą
      const lang = localStorage.getItem('selectedLanguage') || 'en';
      document.getElementById('language-selector').value = lang;
      setLanguage(lang);
      
      // Kalbos keitimas
      document.getElementById('language-selector').addEventListener('change', function() {
        setLanguage(this.value);
      });
      
      // Modalų sąranka
      setupModals();
      
      // Paieškos funkcionalumas
      document.getElementById('search-btn').addEventListener('click', function() {
        alert('Search functionality would be implemented here');
      });
      
      // Kortelių trynimas
      document.querySelectorAll('.delete-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          if (confirm('Are you sure you want to delete this offer?')) {
            this.closest('.card').remove();
            document.getElementById('total-offers').textContent = 
              document.querySelectorAll('.card').length;
          }
        });
      });
    });
  </script>
</body>
</html>
